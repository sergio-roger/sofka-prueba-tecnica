<div class="view">
  <div class="search-box">
    <input
      type="text"
      placeholder="Search..."
      [(ngModel)]="searchTerm"
      (input)="onSearch()"
    />
  </div>

  @if (products$ | async;) {
    <div class="table-wrapper">
      <table>
        <thead>
          <tr>
            <th>Logo</th>
            <th>Nombre del producto</th>
            <th>Descripción</th>
            <th>Fecha de liberación</th>
            <th>Fecha de restructuración</th>
          </tr>
        </thead>
        <tbody>
          @for (item of filteredProducts; track item) {
            <tr>
              <td>{{ item.logo }}</td>
              <td>{{ item.name }}</td>
              <td>{{ item.description }}</td>
              <td>{{ item.date_release }}</td>
              <td>{{ item.date_revision }}</td>
            </tr>
          } @empty {
            <tr>
              <td colspan="5">
                No hay datos para mostrar
              </td>
            </tr>
          }
        </tbody>
      </table>

      <div class="table-footer">
        <span>{{ filteredProducts.length }}
          @if (filteredProducts.length == 1) {
            Resultado
          } @else {
            Resultados
          }
        </span>

        <select>
          <option value="5">5</option>
          <option value="5">10</option>
          <option value="5">20</option>
        </select>
      </div>
    </div>
  }
</div>
